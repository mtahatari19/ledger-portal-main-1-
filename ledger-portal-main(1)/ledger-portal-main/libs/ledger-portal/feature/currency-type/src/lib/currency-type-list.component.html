<div class="min-h-screen p-6">
  <div class="mb-8">
    <ledger-portal-shared-ui-breadcrumb />
  </div>

  <div class="mb-4">
    <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="flex justify-between items-center gap-4">
      <div class="flex gap-4 w-full">
        <mat-form-field appearance="outline" class="w-1/2">
          <mat-label>جستجوی کد / نام</mat-label>
          <input matInput formControlName="searchTerm" type="text" placeholder="مثال: IRR یا ریال" />
        </mat-form-field>
        <button mat-raised-button color="primary" type="submit">جستجو</button>
        <button mat-stroked-button type="button" (click)="onClearSearch()">پاک‌سازی</button>
      </div>
      <button mat-raised-button color="primary" class="relative bottom-4 w-1/5" type="button" (click)="onCreateNew()">
        ارز جدید
      </button>
    </form>
  </div>

  <div class="rounded-lg">
    <div class="overflow-x-auto">
      <table mat-table [dataSource]="filteredDataSource" class="w-full">
        <ng-container matColumnDef="code">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">کد ارز</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">{{ row.code }}</td>
        </ng-container>

        <ng-container matColumnDef="nameFa">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">نام فارسی</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">{{ row.nameFa }}</td>
        </ng-container>

        <ng-container matColumnDef="nameEn">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">نام انگلیسی</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">{{ row.nameEn }}</td>
        </ng-container>

        <ng-container matColumnDef="isoNumeric">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">کد عددی ISO</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">{{ row.isoNumeric }}</td>
        </ng-container>

        <ng-container matColumnDef="isoAlpha">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">کد حروفی ISO</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">{{ row.isoAlpha }}</td>
        </ng-container>

        <ng-container matColumnDef="decimalPlaces">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">تعداد ارقام اعشار</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">{{ row.decimalPlaces }}</td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef class="text-right font-semibold px-6 py-4">وضعیت</th>
          <td mat-cell *matCellDef="let row" class="px-6 py-4">
            <span class="px-3 py-1 rounded-full text-xs font-medium" [class]="getStatusClass(row.status)">
              {{ getStatusText(row.status) }}
            </span>
          </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="text-center font-semibold"></th>
          <td mat-cell *matCellDef="let row">
            <div class="flex items-center">
              <button mat-icon-button color="warn" (click)="onDelete(row)" matTooltip="حذف">
                <mat-icon svgIcon="trash" ledgerPortalSvgIconType="stroke" />
              </button>
              <button mat-icon-button color="primary" aria-label="edit" matTooltip="ویرایش" (click)="onEdit(row)">
                <mat-icon ledgerPortalSvgIconType="stroke" color="primary" svgIcon="edit" />
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </div>
</div>


